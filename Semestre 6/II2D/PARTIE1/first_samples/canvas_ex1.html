<html>
  <body>
    <canvas id="input" width="320" height="240"/><br/>
    <script type="text/javascript">

      //BLOC1
      //crée un nouvel objet canvas
      //donne au canvas un context en 2D
      //dessine une zone rectangle noir de 20 par 20 avec son sommet haut gauche en 90 90
      var canvas = document.getElementById("input");
      var ctx2d = canvas.getContext("2d");
      ctx2d.fillRect(90, 90, 20, 20);

      //BLOC2
      //crée un objet image avec son coin haut gauche en 0 0 
      //et de la même taille que le canvas et récupère dans la variable pixels le tableau
      //des valeurs de tout les pixels de l'image.
      var imgData = ctx2d.getImageData(0, 0, canvas.width, canvas.height);
      var pixels = imgData.data;

      //BLOC3
      //choisit le pixel à 100 100.
      //grace a << permet à pos_pixel_dans_vector d'être positionné sur la 
      //première info de ce pixel (le rouge)
      //recupere les valeurs r g b et a de ce pixel dans le tableau
      //affiche les valeurs
      var x = 100; var y = 100;
      var pos_pixel_dans_vector = (y * imgData.width + x)<<2;
      var r = pixels[pos_pixel_dans_vector + 0];
      var g = pixels[pos_pixel_dans_vector + 1];
      var b = pixels[pos_pixel_dans_vector + 2];
      var a = pixels[pos_pixel_dans_vector + 3];

      alert("Pixel at ("+x+", "+y+") : ("+r+", "+g+", "+b+", "+a+")");

      </script>
    </body>
  </html>
